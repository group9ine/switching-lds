\usepackage[utf8]{inputenc}
\usepackage[british]{babel}
\frenchspacing

% maths
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{mleftright}
\mleftright

% figures and tables
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{svg}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\pgfkeys{/pgf/number format/set thousands separator={}}

% typography
\usepackage[stretch=10, shrink=10]{microtype}
\usepackage[
  range-phrase=--,
  range-units=single,
  detect-all
]{siunitx}
\usepackage[en-GB]{datetime2}
\usepackage{eucal}
%\usepackage{libertine}
%\usepackage[libertine, vvarbb]{newtxmath}
%\usepackage[scale=0.95]{inconsolata}
\usepackage{bm}
\usepackage{listings}
\lstset{
  basicstyle=\normalsize\ttfamily,
  keywordstyle=\bfseries,
  identifierstyle=,
  commentstyle=\itshape,
  numbers=none,
  frame=none,
}

% layout
\usepackage{pbalance}

% bibliography
\usepackage[english=british]{csquotes}
\usepackage[backend=biber]{biblatex}
\addbibresource{refs.bib}

% macros
\usepackage{xparse}
%% new commands
\newcommand{\figref}[1]{Fig.~\ref{#1}}
\newcommand{\given}[1][]{\;#1\vert\;}
\newcommand{\lkl}{\mathcal{L}}
\newcommand{\nrm}{\mathcal{N}}
\DeclareMathOperator{\MNIW}{MNIW}
%% redefinitions
\renewcommand{\theta}{\vartheta}
\renewcommand{\epsilon}{\varepsilon}
\renewcommand{\phi}{\varphi}
\renewcommand{\leq}{\leqslant}
\renewcommand{\geq}{\geqslant}
\renewcommand{\propto}{\sim}
\renewcommand{\Re}{\operatorname{Re}}
\renewcommand{\Im}{\operatorname{Im}}
%% special objects
\newcommand{\I}{\mathbb{I}}
%% special sets
\newcommand{\C}{\mathbb{C}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
%% vectors
\renewcommand{\vec}[1]{\mathbf{#1}}
\newcommand{\uvec}[1]{\vec{\hat{#1}}}
\newcommand{\matr}[1]{\mathbf{#1}}
%% derivatives
%% derivatives
\newcommand{\dd}{d}
\NewDocumentCommand{\diff}{s o m m}{%
  \IfBooleanTF{#1}%
    {\dd\IfValueT{#2}{^{#2}} #3 / %
     \dd #4\IfValueT{#2}{^{#2}}}%
    {\frac{\dd\IfValueT{#2}{^{#2}} #3}%
          {\dd #4\IfValueT{#2}{^{#2}}}}}
\NewDocumentCommand{\pdiff}{s o m m}{%
  \IfBooleanTF{#1}%
    {\partial\IfValueT{#2}{^{#2}} #3 / %
     \partial #4\IfValueT{#2}{^{#2}}}%
    {\frac{\partial\IfValueT{#2}{^{#2}} #3}%
          {\partial #4\IfValueT{#2}{^{#2}}}}}
%% delimiters
\DeclarePairedDelimiter{\ABS}{\lvert}{\rvert}
% add star when following large operators for better spacing
\NewDocumentCommand{\abs}{s o m}{%
  \IfBooleanTF{#1}{{}}{}%
  \IfValueTF{#2}{\ABS[#2]{#3}}{\ABS{#3}}}
\DeclarePairedDelimiter{\expval}{\langle}{\rangle}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}

% hyperref
\usepackage[hidelinks]{hyperref}
